(()=>{let e;function t(){let t=[["","",""],["","",""],["","",""]];function n(){let e=!1;return e=!(t[0].includes("")||t[1].includes("")||t[2].includes("")),e}let r=()=>{let r=document.querySelector(".container"),o="";t.forEach(((e,t)=>{e.forEach(((e,n)=>{o+=`\n         <div class="gameboard" data-primary-index = '${t}' data-index='${n}'>${e}</div>\n         `}))})),null!=l||n()?null==l&&n()?document.querySelector("#current-player").innerHTML="It's a tie!":null!=l&&(document.querySelector("#current-player").innerHTML=`The Winner is ${l.name}! ${l.pSymbol}`):document.querySelector("#current-player").innerHTML=`It is ${e.name}'s ${e.pSymbol} turn! `,r.innerHTML=o,document.querySelectorAll(".gameboard").forEach((e=>{e.addEventListener("click",(()=>{a(parseInt(e.getAttribute("data-index")),parseInt(e.getAttribute("data-primary-index")))}))}))},a=(n,a)=>{""==t[a][n]&&null==l&&(t[a][n]=e.pSymbol,c.checkGame(),c.alterPlayer(e),r())};return{gameboard:t,boardFull:n,render:r}}function n(e,t="anonymous"){return{pSymbol:e,name:t}}function r(e,t,n){return e==t&&t==n&&""!=e}function a(t,n,a){function o(e){l="x"===e?t:n}return{play:function(){e=t,a.render()},checkGame:function(){gameboard=a.gameboard;for(let e=0;e<3;e++)r(gameboard[e][0],gameboard[e][1],gameboard[e][2])&&o(gameboard[e][0]);for(let e=0;e<3;e++)r(gameboard[0][e],gameboard[1][e],gameboard[2][e])&&o(gameboard[0][e]);r(gameboard[0][0],gameboard[1][1],gameboard[2][2])?o(gameboard[0][0]):r(gameboard[0][2],gameboard[1][1],gameboard[2][0])&&o(gameboard[0][2])},alterPlayer:function(r){return e=r==t?n:t,e},currentPlayer:function(){return e}}}let o=!1,l=null,d=t(),u=n("x"),m=n("o"),c=a(u,m,d);window.onload=()=>{document.getElementById("start_reset_button").value="start",document.getElementById("start_reset_button").addEventListener("click",(r=>{r.preventDefault(),"start"===document.getElementById("start_reset_button").value?(c.play(),u.name=document.getElementById("onename").value,m.name=document.getElementById("twoname").value,document.getElementById("labels").style.display="none",document.getElementById("start_reset_button").value="reset"):(o=!1,l=null,d=t(),u=n("x"),m=n("o"),e=u,c=a(u,m,d)),d.render()}))}})();